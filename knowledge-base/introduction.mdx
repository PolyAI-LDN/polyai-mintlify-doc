---
title: Overview
---

![kb-main-image](/images/kb-main-image.png)

The **knowledge base (KB)** is the brain of your PolyAI agent. It stores the topics that inform the language model's answers and actions at runtime.  A well‑built KB keeps responses on‑brand, workflows predictable, and analytics meaningful.

Each topic is defined in a single file (Markdown/JSON) and contains four fields:

| Field                | Purpose                                                                  | Seen by retriever? |
| -------------------- | ------------------------------------------------------------------------ | ------------------ |
| **Name**             | Short, semantically tight title.                                         | ✓                  |
| **Sample questions** | 5‑10 ways a real user might ask the same thing.                          | ✓                  |
| **Content**          | The facts or default utterances used to formulate the reply.             | ✓                  |
| **Actions**          | Optional follow‑up behaviour (send SMS, transfer call, invoke function). | ✗                  |

A topic that is *clear* in these fields is easier for the model to match, safer to automate, and simpler to report on.

## How retrieval works (RAG)

Rather than passing the entire KB to the model each turn, the agent uses **retrieval‑augmented generation (RAG)**:

1. The retriever compares the user utterance to the **Name**, **Sample questions**, and **Content** of every topic.
2. The closest matches (by semantic similarity) are appended to the prompt.
3. The model selects the best topic from that shortlist, then crafts the reply and decides whether to run an **Action**.

<Tip> **Tip** Because the **Name** is always shown to the retriever, make it semantically close to the actual intent.  A vague label like *"General_Info"* will fire on everything and pollute analytics. </Tip>


## Key components of a topic

### Name

* Use descriptive titles such as *“Refund Policy”* or *“Lost Property – Hotel”*.
* Avoid catch‑all buckets (*“Other Queries”*). They cause mis‑retrieval and inflate fallback.

### Sample questions

* Provide **5–10 real phrasings**—formal, informal, and typo‑laden.
* The retriever relies on this variety to generalise beyond the obvious wording.

### Content

* Keep it concise and directly answer the query.
* Write in the voice you want the agent to speak.
* For complex material, use headings or bullet lists so the model can quote relevant parts.

### 4. Actions

* Define what should happen after the answer is delivered.
* Common patterns:

  * Send an [SMS](/sms/introduction) with more detail.
  * Trigger a [handoff](/call-handoff/introduction) to a live queue.
  * Call a custom [function](/function/introduction) for live data.
* Be explicit: *“If the user agrees to transfer, call `transfer_call` with destination=`support_live`.”*

## QA metrics and dashboards

After each turn, the system logs the **Name** of the topic whose **Content** was most similar to the model’s final answer.  This becomes the QA metric in Agent Studio, letting you audit which KB entry actually drove the response.

## Types of entries

### Simple FAQ

| Variant         | When to use                    | Setup                                                             |
| --------------- | ------------------------------ | ----------------------------------------------------------------- |
| **Single‑turn** | Straight answer, no follow‑up. | Fill **Content**. Leave **Actions** empty.                        |
| **Multi‑turn**  | Need one clarifying question.  | Split prompts across turns inside **Content**. **Actions** empty. |

### Handoff

| Variant         | Behaviour                             | Setup                                                                                           |
| --------------- | ------------------------------------- | ----------------------------------------------------------------------------------------------- |
| **Offer**       | Answer, then *offer* transfer.        | Put answer + offer in **Content**.  In **Actions**, run `transfer_call` *only if* user accepts. |
| **Direct**      | Immediate transfer, no clarification. | **Content** empty. **Actions** always run `transfer_call`.                                      |
| **Conditional** | Multiple possible queues.             | Ask disambiguation in **Content**. **Actions** list each queue with its condition.              |

### SMS

| Variant         | Behaviour                             | Setup                                                                                       |
| --------------- | ------------------------------------- | ------------------------------------------------------------------------------------------- |
| **Offer**       | Answer, then *offer* to text details. | Include answer + offer in **Content**.  **Actions** call `start_sms_flow` if user consents. |
| **Conditional** | Choose one of many SMS templates.     | Ask clarifying question in **Content**.  **Actions** map conditions to `sms_id` choices.    |

### Misc

Sometimes you just need to expose a block of data (opening hours for 200 stores, price grids, etc.).  Put that reference material in **Content** and leave **Actions** empty.  Let the model pull the right snippet.

## Avoid

* **Multiple tasks in the same turn**— e.g. tell the user something *and* run `transfer_call` immediately.  Split utterances and function calls into separate turns.
* **Overloaded topics** — bundling unrelated intents together hurts retrieval and analytics.
* **Generic names** - "Misc Info" will match everything; use intent‑specific titles.

## Build, test, iterate

1. **Draft** topics with clear names, diverse sample questions, and purposeful actions.
2. **Validate** in staging: confirm the right topic fires and the action executes.
3. **Watch analytics**: high fallback or mis‑fire rates usually mean missing samples or fuzzy names.
4. **Refine** continuously: add real user phrasings, split bloated topics, tighten risky actions.

Following these guidelines will give you a KB that scales cleanly, surfaces the right knowledge, and keeps support teams—and end users—confident in every interaction.

* Need bulk upload? See the [CSV import guide](/essentials/csv-imports).
* Questions? Check the [FAQ](/troubleshoot/faq).
