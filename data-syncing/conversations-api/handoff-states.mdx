---
title: "Handoff States"
description: "Guide to managing and monitoring handoff states for transitions between assistants and live agents."
---

The **handoff states** feature in the PolyAI platform enables you to monitor and manage transitions between automated assistants and live agents. This page provides an overview of how to use the handoff-related APIs, explains relevant processes like **push vs. pull data syncing**, and highlights best practices for working with SIP header handoffs.

For detailed API specifications, refer to the [Get Handoff State API documentation](https://docs.poly.ai/api-reference/endpoint/get-handoff).

---

## When to Use Handoff States

The **handoff states** API is essential for managing transitions in conversations. It allows you to:
- Retrieve the current state of a conversation during a handoff, such as `handoff_initiated`, `handoff_completed`, or `handoff_failed`.
- Monitor transitions for quality assurance, troubleshooting, and operational efficiency.
- Synchronize metadata with external systems like CCaaS platforms to ensure agents have full conversational context.

By tracking these states, you can maintain seamless handoffs and improve the overall customer experience.

---

## Push vs. Pull APIs for Handoff Data

PolyAI supports both **pull** and potentially **push** mechanisms for accessing handoff data. The choice depends on your systemâ€™s architecture and real-time requirements.

### Pull API

- **Definition**: Clients request handoff data on demand by querying the API.
- **Use case**: Ideal for systems that poll for updates periodically or require batched data retrieval.

### Push API

- **Definition**: Data is sent automatically to a configured endpoint when specific events occur, such as a completed handoff.
- **Use case**: Best for event-driven systems that need real-time updates, like live dashboards.
- **Current status**: Push API support for handoff states is under consideration. Prioritize evaluating potential use cases and benefits for your architecture.

---

## Handoff States Overview

The **handoff states** API provides the following states to describe the status of a handoff:

| State                | Description                                                                 |
|----------------------|-----------------------------------------------------------------------------|
| `handoff_initiated`  | The handoff process has started, and the call is transitioning to an agent. |
| `handoff_completed`  | The handoff process has successfully connected the call to a live agent.    |
| `handoff_failed`     | The handoff process failed, and the call remains with the assistant.        |

These states give real-time visibility into handoff progress and can be used to trigger automated workflows, such as retries or fallbacks.

---

## Accessing Handoff State Data

The **Get Handoff State** endpoint allows you to retrieve the current handoff state for a conversation. It supports both PolyAI-generated conversation IDs (`id`) and client-provided shared IDs (`shared_id`). When both IDs are provided, the API prioritizes the `shared_id` to maintain consistency with your internal systems.

For detailed information about parameters, headers, and error codes, see the [Get Handoff State API documentation](https://docs.poly.ai/api-reference/endpoint/get-handoff).

---

## SIP Header Handoff

Metadata related to the handoff process can be included in SIP headers when calls are passed back to the contact center. This allows seamless integration with client systems, such as CCaaS platforms.

### Current State of SIP Header Handoff

- **Functionality**: The SIP header packs metadata, such as the agent ID and current handoff state, to provide additional context during transitions.
- **Gaps**: Investigate whether all relevant metadata fields are consistently included. Address inconsistencies and document missing fields where applicable.
- **Action**: Ensure the SIP header fields are well-documented and identify areas for improvement to meet client needs.

---

## Best Practices for Using Handoff States

1. **Prioritize Shared IDs**: Use `shared_id` where possible to ensure alignment with your internal systems. If both `id` and `shared_id` are provided, the API defaults to the `shared_id`.
2. **Monitor Handoff Failures**: Use the `handoff_failed` state to implement automated retries or fallback workflows, minimizing disruptions.
3. **Synchronize Metadata with CCaaS Platforms**: Integrate handoff metadata with platforms like Genesys or LivePerson to enhance agent visibility and improve reporting.

---

## FAQs

### How do I retrieve metadata for a specific conversation?
Use the `id` or `shared_id` query parameters in the **Get Handoff State** endpoint. Refer to the [API documentation](https://docs.poly.ai/api-reference/endpoint/get-handoff) for detailed examples.

### Is Push API supported for handoff states?
Push API support is currently under consideration. At this time, the API relies on a **pull** mechanism.

### Can I access handoff data in bulk?
For bulk data downloads, consider using the [S3-to-S3 integration](s3-to-s3) for scalable, high-performance data transfers.

---

## Related Pages

- [List Conversations](list-conversations): Retrieve metadata for multiple conversations.
- [Portal Transcripts](portal-transcripts): Access detailed transcripts of conversations, including metadata.

---

By combining the **Get Handoff State** API with best practices for SIP header handoffs and syncing strategies, you can effectively manage conversation transitions, improve reporting, and ensure seamless integration with external systems.